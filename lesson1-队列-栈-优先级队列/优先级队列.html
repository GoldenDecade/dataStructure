<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
	class Queue {
		constructor() {
			this.queue = []
		}
		enqueue(...args) {
			return [].push.apply(this.queue, args)
		}
		dequeue() {
			return this.queue.shift()
		}
		front() {
			return this.queue[0]
		}
		isEmpty() {
			return this.queue.length === 0
		}
		size() {
			return this.queue.length
		}
		toString() {
			// return this.queue.toString()
			let res = ''
			while(this.queue.length) {
				res += this.queue.dequeue()
			}
			return res
		}
	}
    class QueueElement {
		constructor(element, priority) {
			this.element = element
            this.priority = priority
		}
    }

    class PriorityQueue extends Queue {
	    constructor() {
			super()
	    }
		enqueue(element, priority) {
			const queueElement = new QueueElement(element, priority)
			if (this.queue.length === 0) {
				this.queue.push(queueElement)
            }else {
				let added = false
				for (let i = 0; i < this.queue.length; i++) {
					const item = this.queue[i]
					if (priority < item.priority) {
						this.queue.splice(i, 0, queueElement)
						added = true
                        break
                    }
                }
				if (!added) {
					this.queue.push(queueElement)
                }
            }
        }
		toString() {
			let res = ''
			let i = 0
			while(i < this.queue.length) {
				res += `*${this.queue[i].element} -- ${this.queue[i].priority}`
				i++
			}
			return res
		}
    }

	let priority = new PriorityQueue()
	priority.enqueue('a', 1)
	priority.enqueue('c', 3)
	priority.enqueue('b', 2)
	console.log(priority.toString());

	console.log(JSON.stringify(priority, '', 4));
	priority.dequeue()
	console.log(JSON.stringify(priority, '', 4));
	console.log(priority.toString());

</script>
</body>
</html>
